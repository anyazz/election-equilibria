import math
import matplotlib.pyplot as plt 
import numpy as np

# BR1 = [4.111279341908787, 6.651033379787599, 6.294313601245161, 5.454964974797759, 8.523016445581979, 7.426948283279872, 9.130228022553066, 6.8445852638060405, 8.171388176407158, 12.526073526182286, 8.818666686703715, 14.323545951201801, 16.21170996397199, 13.343249295363155, 12.279436101444896, 11.917734258100309, 16.097053772990172, 8.677951153140103, 13.140303045978065, 11.604941323932202, 15.000352653102645, 15.124883440304526, 15.123551470835778, 17.73908527379457, 10.593545162001579, 13.808351701822655, 19.465004324433977, 11.985515997809344, 17.644697807816208, 19.486399692666463, 18.834861157983028, 23.809626222673682, 24.27214085299193, 20.05882640650717, 22.25673052717412, 24.691354177062532, 28.58358887040341, 24.483570628519274, 25.55907021831581, 25.61836910883311, 21.094619066914916, 25.67529310793271, 
# ]
# X1 = np.array([0.0, 0.6666666666666666, 1.3333333333333333, 2.0, 2.6666666666666665, 3.333333333333333, 4.0, 4.666666666666666, 5.333333333333333, 6.0, 6.666666666666666, 7.333333333333333, 8.0, 8.666666666666666, 9.333333333333332, 10.0, 10.666666666666666, 11.333333333333332, 12.0, 12.666666666666666, 13.333333333333332, 14.0, 14.666666666666666, 15.333333333333332, 16.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0, 65.0, 73.33333333333333, 81.66666666666667, 90.0 ])
# Y1 = np.array([4.111634998457381, 6.651033379787599, 6.03156414390139, 7.38607931620467, 7.95626330463267, 8.458120805014683, 6.670100683846216, 6.499920850222185, 6.362949979433554, 14.132323864195008, 11.676569932795227, 15.799664062595827, 12.944143790949465, 12.124068602323131, 10.908937217722437, 10.965197437849962, 12.696894915390796, 8.81358183794661, 10.355260195944817, 17.057766430738532, 13.718592775344012, 14.68927711909854, 15.637141199685017, 17.793861327474907, 13.842225881968389, 14.640232374002748, 17.036415189149277, 16.42873270260456, 16.072728377649362, 16.72777464823848, 16.75058024967354, 19.79979064858989, 16.255017824866883, 17.349865191408618, 19.020613263932923, 20.733888420102666, 20.8866055741422, 22.43348725556678, 23.278933878736073, 20.4429453973507, 20.042459560387307, 24.06305996843239])


BR = np.array([1.5986937023444998, 3.14152275038089, 8.233756287176384, 10.692309876871798, 11.16243430104806, 13.05595894646212, 14.505998196742853, 14.907091461686788, 15.135812741241597, 15.46814220912328, 16.210764681069534, 16.344762198582174, 16.478759716094817, 16.61275723360746, 16.727431087691624, 17.21573009151914, 17.680320359744737 ])
Y = np.array([1.5988897475762298, 7.068225489368896, 7.649427982243203, 8.278909836017135, 9.052331824221294, 9.759415301334759, 10.33494292923336, 10.793574898080248, 11.166323424237156, 11.521225700957642, 11.86720852606302, 12.177240102038125, 12.45565107643287, 12.707209700132859, 12.936100248057341, 13.152014584149214, 13.394616637526749])
X=[0.0, 5.0, 10.0, 15.0, 20.0, 25.0, 30.0, 35.0, 40.0, 45.0, 50.0, 55.0, 60.0, 65.0, 70.0, 75.0, 80.0]


BR6 = np.array([3.4188445045124976, 6.725108415345877, 12.610576288899225, 13.834004205396305, 16.86992293462478, 18.700364920971484, 20.487582046788283, 20.72844752201822, 21.64113704249939, 21.717254726390255, 21.792249698725875, 21.86698453668415, 22.05555233422349, 22.318190665751693, 22.46473749449165, 22.538855283977515, 22.76846454189117])
Y6 = [3.4188445045124967, 10.615078280947309, 13.036835619661177, 14.454083419474335, 15.579343634328538, 16.37986298184424, 16.937081397772047, 17.349551431622444, 17.677791602337333, 17.98157775596441, 18.26362981682521, 18.526951833000986, 18.77850131472474, 19.01259138039209, 19.219112429805403, 19.40248117534223, 19.566741461311715 ]

BR2 = [1.3848276697230677, 2.6159901720378, 5.220550308184777, 6.911529875009556, 8.478177797691131, 9.887481143627095, 11.232153337643442, 12.233015853697669, 12.76395150792725, 12.888949704906151, 13.2473785329767, 14.841409258805918, 15.513189404640006, 15.568336737929155, 15.623484071218302, 15.678631404507449, 15.92844463246899]
Y2 = [1.3848768329697445, 3.0627824423965477, 4.231681640030126, 5.25621747588384, 6.1648839312863375, 7.011948646631308, 7.761643527832478, 8.417112414976852, 9.030534753212253, 9.761790952841974, 10.436777326895339, 11.022345013591107, 11.530064765818516, 11.997198767867442, 12.432004846369946, 12.824909660923094, 13.16566255786627]

BR5 = [3.9021973820222735, 8.11730911302336, 10.365522471052344, 11.742136351960337, 14.093851256996704, 15.059599612759897, 16.541200989566853, 16.655369686771856, 16.76953838397686, 16.883707081181864, 17.57688680954073, 18.15216980358252, 19.516925758763637, 20.901785180923454, 21.22401118003912, 22.334176804339563, 23.399762776323627]
Y5 = [3.9050941710274376, 7.142782266018164, 8x.728856124344421, 9.94835036715763, 10.936039421101281, 11.747879239906778, 12.561685601044342, 13.299292906206489, 13.926207422429671, 14.531603028091032, 15.053828981654219, 15.50381477036425, 15.892533721063858, 16.24413915099115, 16.61177985755998, 16.98627679141858, 17.366443343472767]

BR4 = [1.4650311468697121, 7.324521002155105, 8.54581799519411, 9.109712118146337, 9.670195496455722, 10.432182070548055, 11.720352984505904, 12.432866748872076, 13.083528114216435, 13.484452563924407, 13.809915746117387, 14.502110154252215, 15.933131254163712, 16.551212192664256, 18.029443686951552, 18.115526582016486, 18.201609477081423]
Y4=[1.4650311468697121, 6.408485689181946, 8.67622310426176, 10.195500138192802, 11.356599567062368, 12.228344814745409, 12.921329162892693, 13.510580054975204, 14.060627250871878, 14.638069191305952, 15.206642784130782, 15.747693072100208, 16.246760851453566, 16.69857019768724, 17.129372071879438, 17.590282701168476, 18.04213528537636 ]



# y = axes[1].scatter(X1, Y1, label = "E(V_A) using FTPL")
# br = axes[1].scatter(X1, BR1, label="E(V_A) using SBR")
# axes[1].legend()

fig, axes = plt.subplots(nrows=1, ncols=2)
Y_ = np.mean([Y, Y2, Y4, Y5, Y6], axis=0)
BR_ = np.mean([BR, BR2, BR4, BR5, BR6], axis=0)
# fig, axes = plt.subplots(nrows=1, ncols=2)
y = axes[0].scatter(X, Y_, label = r'FTPL')
br = axes[0].scatter(X, BR_, label=r'SBR')
axes[0].set_title("Expected Votes for A vs. Budget")
axes[0].legend()
axes[0].set_xlabel(r'$k_A$')
axes[0].set_ylabel(r'$E(V_A)$')

ftpl_bm = []
sbr_bm = []
for i in range(1, len(Y_)):
	y = Y_[i]
	br = BR_[i]
	if X[i] > 0:
		ftpl_bm.append(y/(32-y) * 40/(X[i]))
		sbr_bm.append(br/(32-br) * 40/(X[i]))
	else:
		ftpl_bm.append((32-y)/(y) * X[i]/40)
		sbr_bm.append((32-br)/(br) * X[i]/40)
print(ftpl_bm)
print(sbr_bm)
_ = axes[1].scatter(X[1:], ftpl_bm, label="FTPL")
_ = axes[1].scatter(X[1:], sbr_bm, label="SBR")

axes[1].set_title("Budget Multiplier vs. Budget")
axes[1].legend()
axes[1].set_xlabel(r'$k_A$')
axes[1].set_ylabel('Budget Multiplier')

plt.show()
